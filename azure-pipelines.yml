trigger:
- main

stages:
  - stage: 'Build'
    displayName: 'Build'
    jobs:
    - job: 'Build'
      displayName: 'Build job'
      pool:
        vmImage: 'windows-latest'
  
      variables:
        BuildConfiguration: 'Release'
        RestoreBuildProjects: '**/*.csproj'
        TestProjects: '**/*[Tt]ests/*.csproj'

      steps:
      - task: UseDotNet@2
        displayName: 'Use .NET Core sdk 6.0.x'
        inputs:
          version: 6.0.x
      - task: DotNetCoreCLI@2
        displayName: Restore
        inputs:
          command: restore
          projects: '$(RestoreBuildProjects)'